<div class="container">
  <h2>Gestion des Sites (Plants)</h2>

  <form (ngSubmit)="addPlant()" [formGroup]="plantForm" class="mb-4">
    <div class="form-group mb-2">
      <label for="name">Nom du site</label>
      <input type="text" class="form-control" formControlName="name" placeholder="Ex: Leoni Monastir">
      <div *ngIf="plantForm.get('name')?.invalid && plantForm.get('name')?.touched" class="invalid-feedback">
        Le nom est requis.
      </div>
    </div>

    <div class="form-group mb-3">
      <label for="address">Adresse du site</label>
      <input type="text" class="form-control" formControlName="address" placeholder="Ex: Rue des industries, Monastir">
      <div *ngIf="plantForm.get('address')?.invalid && plantForm.get('address')?.touched" class="invalid-feedback">
        L'adresse est requise.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="plantForm.invalid">Ajouter</button>
  </form>

  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Adresse</th>
        <th style="width: 100px;">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let plant of plants">
        <td>{{ plant.name }}</td>
        <td>{{ plant.address }}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="deletePlant(plant.id)">
            Supprimer
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
